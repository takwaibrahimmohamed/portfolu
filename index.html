<!DOCTYPE html>
<html>

<head>
    <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
    <!-- <base href="/" /> -->

    <meta charset="UTF-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta name="description" content="My Flutter Web portfolio" />
    <meta property="og:image" content="assets/my_memoji.png" />

    <!-- iOS meta tags & icons -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="my_portfolio" />
    <link rel="apple-touch-icon" href="icons/Icon-192.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png" />

    <title>My Portfolio</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="style.css" />

    <script>
        // The value below is injected by flutter build, do not touch.
        const serviceWorkerVersion = "3233051069";
    </script>
    <!-- This script adds the flutter initialization JS code -->
    <script src="flutter.js" defer></script>

    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/images/my_memoji.png" as="image" crossorigin />
    <!-- Apple assets -->
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/images/macos_dark_wallpaper.jpg" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/images/iPhone-14.jpg" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/macos/linkedin.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/macos/pdf.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/macos/github.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/buy-me-a-coffee-logo.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/facefolio.png" as="image" crossorigin />

    <!-- Android assets -->
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/images/android_wallpaper.jpg" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/android/pdf.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/android/calendar.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/android/chrome.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/buy-me-a-coffee-logo.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/android/gmail.png" as="image" crossorigin />

    <!-- Windows assets -->
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/pdf.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/github.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/linkedin.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/win11_logo.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/edge.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/email.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/icons/windows/calendar.png" as="image" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/images/w11_blue_wallpaper.jpg" as="image" crossorigin />
    <!-- Fonts -->

    <!-- Windows -->
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/segoe_ui_variable/Segoe-UI-Variable-Static-Display.ttf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/segoe_ui_variable/Segoe-UI-Variable-Static-Display-Semilight.ttf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/segoe_ui_variable/Segoe-UI-Variable-Static-Display-Semibold.ttf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/segoe_ui_variable/Segoe-UI-Variable-Static-Display-Bold.ttf" as="font" crossorigin />
    <!-- Apple -->
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/san_francisco/SFUIDisplay-Regular.otf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/san_francisco/SFUIDisplay-Medium.otf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/san_francisco/SFUIDisplay-Semibold.otf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/san_francisco/SFUIDisplay-Bold.ttf" as="font" crossorigin />
    <link rel="preload" href="https://portfolio.dctech.dev/assets/assets/fonts/san_francisco/SFUIDisplay-Black.otf" as="font" crossorigin />
    <link rel="preconnect" href="https://api.dctech.dev/api/v1/" />
    <link rel="preconnect" href="https://portfolio.oss.nodechef.com/" />
    <link rel="preconnect" href="https://api.weatherapi.com/v1/" />
</head>

<body>
    <div class="logo-container" id="logoContainer">
        <img id="platform-loader" src="assets/apple.png" alt="Apple logo" id="appleLogo" />
    </div>
    <script>
        /**
         * Creates a Promise that resolves after a specified delay.
         *
         * @param {number} delay - The delay duration in milliseconds.
         * @returns {Promise} A Promise that resolves after the specified delay.
         */
        function addDelay(delay) {
            return new Promise((resolve) => setTimeout(resolve, delay));
        }

        // Get references to the progress bar container and the progress bar element.
        const logoContainer = document.getElementById("logoContainer");

        // Set the initial width of the progress bar to 0%.
        var platform = "apple";

        const userAgent = navigator.userAgent;

        if (userAgent.match(/iPhone|iPad|Macintosh/)) platform = "apple";
        if (userAgent.match(/Android/)) platform = "android";
        if (userAgent.match(/Windows/)) platform = "windows";

        var img = document.getElementById("platform-loader");
        img.src = `assets/${platform}.png`;
        img.alt = `${platform} logo`;
        window.addEventListener("load", function(ev) {
            // Download main.dart.js
            _flutter.loader.loadEntrypoint({
                serviceWorker: {
                    serviceWorkerVersion: serviceWorkerVersion,
                },
                onEntrypointLoaded: async function(engineInitializer) {
                    const appRunner = await engineInitializer.initializeEngine();
                    await addDelay();
                    logoContainer.style.opacity = 0;
                    await appRunner.runApp();
                    document.querySelector("flutter-view").classList.add("fade-in");
                },
            });
        });
    </script>
</body>

</html>